"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[997],{3997:(mn,P,u)=>{u.d(P,{DetallePage:()=>un});var g=u(467),_=u(9769),r=u(8370),h=u(2951),c=u(5873),f=u(5206),n=u(5547),l=u(375),x=u(3703);function M(i,s){if(1&i&&(n.j41(0,"span"),n.EFF(1),n.k0s()),2&i){const t=n.XpG(2).$implicit;n.R7$(),n.SpI(" \u2022 ",t.aula)}}function O(i,s){if(1&i&&(n.j41(0,"p"),n.EFF(1),n.DNE(2,M,2,1,"span",20),n.k0s()),2&i){const t=n.XpG().$implicit,e=n.XpG();n.R7$(),n.Lme(" ",e.formatHora(t.hora_inicio)," - ",e.formatHora(t.hora_fin)," "),n.R7$(),n.Y8G("ngIf",t.aula)}}function v(i,s){1&i&&(n.j41(0,"p",23),n.EFF(1," Toca para configurar "),n.k0s())}function k(i,s){if(1&i){const t=n.RV6();n.j41(0,"ion-chip",34),n.bIt("click",function(){const o=l.eBV(t).$implicit,a=n.XpG(2).$implicit,d=n.XpG();return l.Njj(d.seleccionarHoraInicio(a,o))}),n.EFF(1),n.k0s()}if(2&i){const t=s.$implicit,e=n.XpG(2).$implicit,o=n.XpG();n.AVh("selected",e.hora_inicio===t),n.R7$(),n.SpI(" ",o.formatHora(t)," ")}}function y(i,s){if(1&i){const t=n.RV6();n.j41(0,"ion-button",37),n.bIt("click",function(){const o=l.eBV(t).$implicit,a=n.XpG(3).$implicit,d=n.XpG();return l.Njj(d.seleccionarDuracion(a,o.minutos))}),n.EFF(1),n.k0s()}if(2&i){const t=s.$implicit,e=n.XpG(3).$implicit,o=n.XpG();n.Y8G("fill",e.hora_fin&&o.calcularDuracion(e)===t.minutos?"solid":"outline"),n.R7$(),n.SpI(" ",t.label," ")}}function F(i,s){if(1&i&&(n.j41(0,"div",25)(1,"ion-label",26),n.nrm(2,"ion-icon",27),n.EFF(3," Duraci\xf3n "),n.k0s(),n.j41(4,"div",35),n.DNE(5,y,2,2,"ion-button",36),n.k0s()()),2&i){const t=n.XpG(3);n.R7$(5),n.Y8G("ngForOf",t.duraciones)}}function E(i,s){if(1&i&&(n.j41(0,"div",25)(1,"ion-label",26),n.nrm(2,"ion-icon",38),n.EFF(3," Finaliza a las "),n.k0s(),n.j41(4,"div",39)(5,"span",40),n.EFF(6),n.k0s()()()),2&i){const t=n.XpG(2).$implicit,e=n.XpG();n.R7$(6),n.JRh(e.formatHora(t.hora_fin))}}function j(i,s){if(1&i){const t=n.RV6();n.j41(0,"div",24)(1,"div",25)(2,"ion-label",26),n.nrm(3,"ion-icon",27),n.EFF(4," Hora de inicio "),n.k0s(),n.j41(5,"div",28),n.DNE(6,k,2,3,"ion-chip",29),n.k0s()(),n.DNE(7,F,6,1,"div",30)(8,E,7,1,"div",30),n.j41(9,"div",25)(10,"ion-label",26),n.nrm(11,"ion-icon",31),n.EFF(12," Aula (opcional) "),n.k0s(),n.j41(13,"ion-item",32)(14,"ion-input",33),n.mxI("ngModelChange",function(o){l.eBV(t);const a=n.XpG().$implicit;return n.DH7(a.aula,o)||(a.aula=o),l.Njj(o)}),n.k0s()()()()}if(2&i){const t=n.XpG().$implicit,e=n.XpG();n.R7$(6),n.Y8G("ngForOf",e.horasRapidas),n.R7$(),n.Y8G("ngIf",t.hora_inicio),n.R7$(),n.Y8G("ngIf",t.hora_inicio&&t.hora_fin),n.R7$(6),n.R50("ngModel",t.aula)}}function w(i,s){if(1&i){const t=n.RV6();n.j41(0,"div",16)(1,"div",17),n.bIt("click",function(){const o=l.eBV(t).$implicit,a=n.XpG();return l.Njj(a.toggleDia(o))}),n.j41(2,"ion-checkbox",18),n.mxI("ngModelChange",function(o){const a=l.eBV(t).$implicit;return n.DH7(a.seleccionado,o)||(a.seleccionado=o),l.Njj(o)}),n.k0s(),n.j41(3,"div",19)(4,"h4"),n.EFF(5),n.k0s(),n.DNE(6,O,3,3,"p",20)(7,v,2,0,"p",21),n.k0s()(),n.DNE(8,j,15,4,"div",22),n.k0s()}if(2&i){const t=s.$implicit,e=n.XpG();n.R7$(2),n.R50("ngModel",t.seleccionado),n.R7$(3),n.JRh(t.nombre),n.R7$(),n.Y8G("ngIf",t.seleccionado&&t.hora_inicio&&t.hora_fin),n.R7$(),n.Y8G("ngIf",t.seleccionado&&(!t.hora_inicio||!t.hora_fin)),n.R7$(),n.Y8G("ngIf",t.seleccionado&&e.diaExpandido===t.dia)}}function R(i,s){if(1&i&&(n.j41(0,"div",49),n.EFF(1),n.k0s()),2&i){const t=n.XpG(2).$implicit;n.R7$(),n.JRh(t.aula)}}function $(i,s){if(1&i&&(n.j41(0,"div",45)(1,"div",46),n.EFF(2),n.k0s(),n.j41(3,"div",47),n.EFF(4),n.k0s(),n.DNE(5,R,2,1,"div",48),n.k0s()),2&i){const t=n.XpG().$implicit,e=n.XpG(2);n.R7$(2),n.JRh(t.nombre),n.R7$(2),n.Lme(" ",e.formatHora(t.hora_inicio)," - ",e.formatHora(t.hora_fin)," "),n.R7$(),n.Y8G("ngIf",t.aula)}}function I(i,s){if(1&i&&(n.j41(0,"div"),n.DNE(1,$,6,4,"div",44),n.k0s()),2&i){const t=s.$implicit;n.R7$(),n.Y8G("ngIf",t.seleccionado&&t.hora_inicio&&t.hora_fin)}}function G(i,s){if(1&i&&(n.j41(0,"ion-card",41)(1,"ion-card-header")(2,"ion-card-title"),n.nrm(3,"ion-icon",38),n.EFF(4," Resumen "),n.k0s()(),n.j41(5,"ion-card-content")(6,"div",42),n.DNE(7,I,2,1,"div",43),n.k0s()()()),2&i){const t=n.XpG();n.R7$(7),n.Y8G("ngForOf",t.diasSemana)}}let D=(()=>{class i{constructor(t,e,o,a){this.modalController=t,this.supabase=e,this.loadingController=o,this.toastController=a,this.diasSemana=[{dia:1,nombre:"Lunes",seleccionado:!1,hora_inicio:"",hora_fin:"",aula:""},{dia:2,nombre:"Martes",seleccionado:!1,hora_inicio:"",hora_fin:"",aula:""},{dia:3,nombre:"Mi\xe9rcoles",seleccionado:!1,hora_inicio:"",hora_fin:"",aula:""},{dia:4,nombre:"Jueves",seleccionado:!1,hora_inicio:"",hora_fin:"",aula:""},{dia:5,nombre:"Viernes",seleccionado:!1,hora_inicio:"",hora_fin:"",aula:""},{dia:6,nombre:"S\xe1bado",seleccionado:!1,hora_inicio:"",hora_fin:"",aula:""}],this.horasRapidas=["06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00"],this.duraciones=[{label:"1h",minutos:60},{label:"1.5h",minutos:90},{label:"2h",minutos:120},{label:"3h",minutos:180}],this.diaExpandido=null,(0,h.d)({closeOutline:c.xfX,saveOutline:c.oc8,timeOutline:c.CVk,calendarOutline:c.RXF,locationOutline:c.UN$,checkmarkCircle:c.AUS,addOutline:c.EKF,trashOutline:c.P1A})}ngOnInit(){}toggleDia(t){t.seleccionado?(t.seleccionado=!1,t.hora_inicio="",t.hora_fin="",t.aula="",this.diaExpandido=null):(t.seleccionado=!0,this.diaExpandido=t.dia)}seleccionarHoraInicio(t,e){t.hora_inicio=e,t.hora_fin||this.calcularHoraFin(t,60)}seleccionarDuracion(t,e){t.hora_inicio&&this.calcularHoraFin(t,e)}calcularHoraFin(t,e){if(!t.hora_inicio)return;const[o,a]=t.hora_inicio.split(":").map(Number),d=60*o+a+e,p=Math.floor(d/60)%24,m=d%60;t.hora_fin=`${String(p).padStart(2,"0")}:${String(m).padStart(2,"0")}`}calcularDuracion(t){if(!t.hora_inicio||!t.hora_fin)return 0;const[e,o]=t.hora_inicio.split(":").map(Number),[a,d]=t.hora_fin.split(":").map(Number);return 60*a+d-(60*e+o)}guardar(){var t=this;return(0,g.A)(function*(){const e=t.diasSemana.filter(a=>a.seleccionado&&a.hora_inicio&&a.hora_fin);if(0===e.length)return void(yield t.showToast("Debes configurar al menos un d\xeda","warning"));const o=yield t.loadingController.create({message:"Guardando horarios...",spinner:"crescent"});yield o.present();try{const a=e.map(p=>({asignatura_id:t.asignaturaId,dia_semana:p.dia,hora_inicio:p.hora_inicio,hora_fin:p.hora_fin,aula:p.aula||null,activo:!0})),{error:d}=yield t.supabase.from("horarios").insert(a);if(yield o.dismiss(),d)throw d;yield t.showToast(`\u2713 ${a.length} horario(s) guardado(s)`,"success"),t.modalController.dismiss({created:!0,count:a.length})}catch(a){yield o.dismiss(),console.error("\u274c Error:",a),yield t.showToast("Error al guardar","danger")}})()}cerrar(){this.modalController.dismiss({created:!1})}formatHora(t){if(!t)return"";const[e,o]=t.split(":"),a=parseInt(e);return`${a%12||12}:${o} ${a>=12?"PM":"AM"}`}hayDiasSeleccionados(){return this.diasSemana.some(t=>t.seleccionado&&t.hora_inicio&&t.hora_fin)}showToast(t){var e=this;return(0,g.A)(function*(o,a="success"){yield(yield e.toastController.create({message:o,duration:3e3,position:"top",color:a})).present()}).apply(this,arguments)}static{this.\u0275fac=function(e){return new(e||i)(n.rXU(r.W3),n.rXU(x.w),n.rXU(r.Xi),n.rXU(r.K_))}}static{this.\u0275cmp=n.VBU({type:i,selectors:[["app-agregar-horarios-multiple"]],inputs:{asignaturaId:"asignaturaId"},decls:28,vars:3,consts:[["color","primary"],["slot","start"],[3,"click"],["name","close-outline"],["slot","end"],["name","save-outline"],[1,"horarios-container"],[1,"info-card"],[1,"info-content"],["name","calendar-outline",1,"info-icon"],[1,"dias-list"],["class","dia-item",4,"ngFor","ngForOf"],["class","resumen-card",4,"ngIf"],[1,"save-button-container"],["expand","block","size","large",1,"save-button",3,"click","disabled"],["name","save-outline","slot","start"],[1,"dia-item"],[1,"dia-checkbox-wrapper",3,"click"],[1,"dia-checkbox",3,"ngModelChange","ngModel"],[1,"dia-info"],[4,"ngIf"],["class","configurar-texto",4,"ngIf"],["class","config-panel",4,"ngIf"],[1,"configurar-texto"],[1,"config-panel"],[1,"config-section"],[1,"section-label"],["name","time-outline"],[1,"hours-grid"],["class","hour-chip",3,"selected","click",4,"ngFor","ngForOf"],["class","config-section",4,"ngIf"],["name","location-outline"],["lines","none",1,"aula-item"],["placeholder","Ej: Lab 101, Aula 302",3,"ngModelChange","ngModel"],[1,"hour-chip",3,"click"],[1,"duration-grid"],["size","small",3,"fill","click",4,"ngFor","ngForOf"],["size","small",3,"click","fill"],["name","checkmark-circle"],[1,"end-time-display"],[1,"time-badge"],[1,"resumen-card"],[1,"resumen-list"],[4,"ngFor","ngForOf"],["class","resumen-item",4,"ngIf"],[1,"resumen-item"],[1,"resumen-dia"],[1,"resumen-horario"],["class","resumen-aula",4,"ngIf"],[1,"resumen-aula"]],template:function(e,o){1&e&&(n.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button",2),n.bIt("click",function(){return o.cerrar()}),n.nrm(4,"ion-icon",3),n.k0s()(),n.j41(5,"ion-title"),n.EFF(6,"Configurar Horarios"),n.k0s(),n.j41(7,"ion-buttons",4)(8,"ion-button",2),n.bIt("click",function(){return o.guardar()}),n.nrm(9,"ion-icon",5),n.k0s()()()(),n.j41(10,"ion-content")(11,"div",6)(12,"ion-card",7)(13,"ion-card-content")(14,"div",8),n.nrm(15,"ion-icon",9),n.j41(16,"div")(17,"h3"),n.EFF(18,"Selecciona los d\xedas y configura horarios"),n.k0s(),n.j41(19,"p"),n.EFF(20,"Toca un d\xeda para configurar su horario"),n.k0s()()()()(),n.j41(21,"div",10),n.DNE(22,w,9,5,"div",11),n.k0s(),n.DNE(23,G,8,1,"ion-card",12),n.j41(24,"div",13)(25,"ion-button",14),n.bIt("click",function(){return o.guardar()}),n.nrm(26,"ion-icon",15),n.EFF(27," Guardar Horarios "),n.k0s()()()()),2&e&&(n.R7$(22),n.Y8G("ngForOf",o.diasSemana),n.R7$(),n.Y8G("ngIf",o.hayDiasSeleccionados()),n.R7$(2),n.Y8G("disabled",!o.hayDiasSeleccionados()))},dependencies:[_.MD,_.Sq,_.bT,f.YN,f.BC,f.vS,r.eU,r.ai,r.BC,r.QW,r.Jm,r.iq,r.W9,r.b_,r.I9,r.ME,r.tN,r.uz,r.he,r.$w,r.eY,r.ZB],styles:["ion-content[_ngcontent-%COMP%]{--background: linear-gradient(180deg, #f0f9ff 0%, #e0f2fe 25%, #f8fafc 50%, #ffffff 100%)}.horarios-container[_ngcontent-%COMP%]{padding:16px 16px 100px;max-width:800px;margin:0 auto}.info-card[_ngcontent-%COMP%]{border-radius:16px;background:linear-gradient(135deg,#eff6ff,#dbeafe);border:2px solid #3b82f6;margin-bottom:20px;box-shadow:0 4px 12px #3b82f633}.info-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:16px}.info-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.info-content[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{font-size:40px;color:#3b82f6;flex-shrink:0}.info-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#1e40af;margin:0 0 4px}.info-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;color:#3b82f6;margin:0}.dias-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin-bottom:20px}.dia-item[_ngcontent-%COMP%]{background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 2px 12px #00000014;border:2px solid #e2e8f0;transition:all .3s ease}.dia-item[_ngcontent-%COMP%]:has(.dia-checkbox:checked){border-color:#3b82f6;box-shadow:0 4px 16px #3b82f633}.dia-checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px;cursor:pointer;transition:background .3s ease}.dia-checkbox-wrapper[_ngcontent-%COMP%]:hover{background:#f8fafc}.dia-checkbox-wrapper[_ngcontent-%COMP%]:active{background:#f1f5f9}.dia-checkbox[_ngcontent-%COMP%]{--size: 28px;--checkbox-background-checked: #3b82f6;--border-color-checked: #3b82f6}.dia-info[_ngcontent-%COMP%]{flex:1}.dia-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#1e293b;margin:0 0 4px}.dia-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;color:#64748b;margin:0;font-weight:600}.dia-info[_ngcontent-%COMP%]   .configurar-texto[_ngcontent-%COMP%]{color:#3b82f6;font-style:italic}.config-panel[_ngcontent-%COMP%]{padding:16px;background:#fafbfc;border-top:2px solid #e2e8f0;animation:_ngcontent-%COMP%_slideDown .3s ease-out}.config-section[_ngcontent-%COMP%]{margin-bottom:20px}.config-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.section-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:13px;font-weight:700;color:#334155;margin-bottom:10px;text-transform:uppercase;letter-spacing:.5px}.section-label[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:#3b82f6}.hours-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(80px,1fr));gap:8px}.hour-chip[_ngcontent-%COMP%]{--background: white;--color: #475569;height:40px;margin:0;cursor:pointer;transition:all .3s ease;font-weight:600;border:2px solid #e2e8f0}.hour-chip[_ngcontent-%COMP%]:hover{--background: #f8fafc;border-color:#cbd5e1}.hour-chip.selected[_ngcontent-%COMP%]{--background: #3b82f6;--color: white;border-color:#3b82f6;box-shadow:0 2px 8px #3b82f64d}.duration-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:8px}.duration-grid[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-width: 2px;--border-radius: 10px;margin:0;text-transform:none;font-weight:700}.end-time-display[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:8px}.time-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;padding:12px 24px;border-radius:12px;font-size:18px;font-weight:700;box-shadow:0 4px 12px #10b9814d}.aula-item[_ngcontent-%COMP%]{--background: white;--border-radius: 10px;--padding-start: 16px;--padding-end: 16px;border:2px solid #e2e8f0;border-radius:10px}.aula-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{font-weight:600}.resumen-card[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 4px 16px #00000014;border:2px solid #10b981;background:linear-gradient(135deg,#f0fdf4,#dcfce7);margin-bottom:20px}.resumen-card[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#065f46;font-size:16px}.resumen-card[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}.resumen-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.resumen-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:100px 1fr auto;align-items:center;gap:12px;padding:10px;background:#fff;border-radius:10px;border-left:4px solid #10b981}.resumen-dia[_ngcontent-%COMP%]{font-weight:700;color:#065f46;font-size:14px}.resumen-horario[_ngcontent-%COMP%]{font-weight:600;color:#047857;font-size:13px}.resumen-aula[_ngcontent-%COMP%]{background:#10b981;color:#fff;padding:4px 10px;border-radius:6px;font-size:11px;font-weight:700}.save-button-container[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;padding:16px;background:linear-gradient(to top,white 0%,rgba(255,255,255,.95) 90%,transparent 100%);z-index:100}.save-button[_ngcontent-%COMP%]{--border-radius: 12px;height:56px;font-weight:700;text-transform:none;font-size:16px;box-shadow:0 4px 16px #3b82f64d;max-width:600px;margin:0 auto}.save-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;max-height:0}to{opacity:1;max-height:1000px}}@media(max-width:768px){.hours-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(70px,1fr))}.duration-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.resumen-item[_ngcontent-%COMP%]{grid-template-columns:1fr;text-align:center}}"]})}}return i})();function z(i,s){if(1&i&&(n.j41(0,"div",9),n.nrm(1,"ion-icon",21),n.j41(2,"div")(3,"span",11),n.EFF(4,"Aula"),n.k0s(),n.j41(5,"span",12),n.EFF(6),n.k0s()()()),2&i){const t=n.XpG();n.R7$(6),n.JRh(t.horario.aula)}}function A(i,s){if(1&i&&(n.j41(0,"div",27),n.nrm(1,"ion-icon",28),n.k0s()),2&i){const t=n.XpG().$implicit;n.xc7("color",t.color)}}function T(i,s){if(1&i){const t=n.RV6();n.j41(0,"div",22),n.bIt("click",function(){const o=l.eBV(t).$implicit,a=n.XpG();return l.Njj(a.seleccionarEstado(o.valor))}),n.j41(1,"div",23),n.nrm(2,"ion-icon",24),n.k0s(),n.j41(3,"div",25)(4,"h4"),n.EFF(5),n.k0s(),n.j41(6,"p"),n.EFF(7),n.k0s()(),n.DNE(8,A,2,2,"div",26),n.k0s()}if(2&i){const t=s.$implicit,e=n.XpG();n.xc7("border-color",e.estadoSeleccionado===t.valor?t.color:"#e2e8f0"),n.AVh("selected",e.estadoSeleccionado===t.valor),n.R7$(),n.xc7("background",t.color),n.R7$(),n.Y8G("name",t.icono),n.R7$(2),n.xc7("color",e.estadoSeleccionado===t.valor?t.color:"#1e293b"),n.R7$(),n.SpI(" ",t.label," "),n.R7$(2),n.JRh(t.descripcion),n.R7$(),n.Y8G("ngIf",e.estadoSeleccionado===t.valor)}}let b=(()=>{class i{constructor(t,e,o,a){this.modalController=t,this.supabase=e,this.loadingController=o,this.toastController=a,this.estadoActual="pendiente",this.estadoSeleccionado="",this.observaciones="",this.temasTratados="",this.diasSemana=["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"],this.estados=[{valor:"realizada",label:"Realizada",descripcion:"La clase se dict\xf3 normalmente",color:"#10b981",icono:"checkmark-circle-outline"},{valor:"cancelada",label:"Cancelada",descripcion:"La clase no se realiz\xf3",color:"#ef4444",icono:"close-circle-outline"},{valor:"aplazada",label:"Aplazada",descripcion:"La clase se reprogram\xf3",color:"#f59e0b",icono:"time-outline"}],this.fechaActual="",(0,h.d)({closeOutline:c.xfX,saveOutline:c.oc8,checkmarkCircleOutline:c.gz2,closeCircleOutline:c.p9N,timeOutline:c.CVk,calendarOutline:c.RXF,checkmarkCircle:c.AUS,locationOutline:c.UN$})}ngOnInit(){this.estadoSeleccionado=this.estadoActual,this.fechaActual=(new Date).toISOString().split("T")[0]}seleccionarEstado(t){this.estadoSeleccionado=t}guardar(){var t=this;return(0,g.A)(function*(){if(!t.estadoSeleccionado)return void(yield t.showToast("Selecciona un estado","warning"));const e=yield t.loadingController.create({message:"Guardando...",spinner:"crescent"});yield e.present();try{const o=(new Date).toISOString().split("T")[0],{error:a}=yield t.supabase.from("horarios").update({estado:t.estadoSeleccionado,fecha_ultima_actualizacion:o}).eq("id",t.horario.id);if(yield e.dismiss(),a)throw a;yield t.showToast("\u2713 Estado guardado exitosamente","success"),t.modalController.dismiss({saved:!0,estado:t.estadoSeleccionado})}catch(o){yield e.dismiss(),console.error("\u274c Error guardando estado:",o),yield t.showToast("Error al guardar el estado","danger")}})()}cerrar(){this.modalController.dismiss({saved:!1})}formatHora(t){if(!t)return"";const[e,o]=t.split(":"),a=parseInt(e);return`${a%12||12}:${o} ${a>=12?"PM":"AM"}`}getColorEstado(t){return this.estados.find(o=>o.valor===t)?.color||"#94a3b8"}showToast(t){var e=this;return(0,g.A)(function*(o,a="success"){yield(yield e.toastController.create({message:o,duration:3e3,position:"top",color:a})).present()}).apply(this,arguments)}static{this.\u0275fac=function(e){return new(e||i)(n.rXU(r.W3),n.rXU(x.w),n.rXU(r.Xi),n.rXU(r.K_))}}static{this.\u0275cmp=n.VBU({type:i,selectors:[["app-estado-clase"]],inputs:{horario:"horario",asignaturaId:"asignaturaId",estadoActual:"estadoActual"},decls:41,vars:8,consts:[["color","primary"],["slot","start"],[3,"click"],["name","close-outline"],["slot","end"],["name","save-outline"],[1,"estado-container"],[1,"info-card"],[1,"clase-info"],[1,"info-item"],["name","calendar-outline"],[1,"label"],[1,"value"],["name","time-outline"],["class","info-item",4,"ngIf"],[1,"estados-card"],[1,"estados-grid"],["class","estado-option",3,"selected","border-color","click",4,"ngFor","ngForOf"],[1,"save-button-container"],["expand","block","size","large",1,"save-button",3,"click","disabled"],["name","save-outline","slot","start"],["name","location-outline"],[1,"estado-option",3,"click"],[1,"estado-icon"],[3,"name"],[1,"estado-info"],["class","check-icon",3,"color",4,"ngIf"],[1,"check-icon"],["name","checkmark-circle"]],template:function(e,o){1&e&&(n.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button",2),n.bIt("click",function(){return o.cerrar()}),n.nrm(4,"ion-icon",3),n.k0s()(),n.j41(5,"ion-title"),n.EFF(6,"Estado de la Clase"),n.k0s(),n.j41(7,"ion-buttons",4)(8,"ion-button",2),n.bIt("click",function(){return o.guardar()}),n.nrm(9,"ion-icon",5),n.k0s()()()(),n.j41(10,"ion-content")(11,"div",6)(12,"ion-card",7)(13,"ion-card-content")(14,"div",8)(15,"div",9),n.nrm(16,"ion-icon",10),n.j41(17,"div")(18,"span",11),n.EFF(19,"D\xeda"),n.k0s(),n.j41(20,"span",12),n.EFF(21),n.k0s()()(),n.j41(22,"div",9),n.nrm(23,"ion-icon",13),n.j41(24,"div")(25,"span",11),n.EFF(26,"Horario"),n.k0s(),n.j41(27,"span",12),n.EFF(28),n.k0s()()(),n.DNE(29,z,7,1,"div",14),n.k0s()()(),n.j41(30,"ion-card",15)(31,"ion-card-header")(32,"ion-card-title"),n.EFF(33,"\xbfC\xf3mo fue la clase?"),n.k0s()(),n.j41(34,"ion-card-content")(35,"div",16),n.DNE(36,T,9,12,"div",17),n.k0s()()(),n.j41(37,"div",18)(38,"ion-button",19),n.bIt("click",function(){return o.guardar()}),n.nrm(39,"ion-icon",20),n.EFF(40," Guardar Estado "),n.k0s()()()()),2&e&&(n.R7$(21),n.JRh(o.diasSemana[o.horario.dia_semana]),n.R7$(7),n.Lme("",o.formatHora(o.horario.hora_inicio)," - ",o.formatHora(o.horario.hora_fin)),n.R7$(),n.Y8G("ngIf",o.horario.aula),n.R7$(7),n.Y8G("ngForOf",o.estados),n.R7$(2),n.xc7("--background",o.getColorEstado(o.estadoSeleccionado)),n.Y8G("disabled",!o.estadoSeleccionado))},dependencies:[_.MD,_.Sq,_.bT,f.YN,r.eU,r.ai,r.BC,r.QW,r.Jm,r.iq,r.W9,r.b_,r.I9,r.ME,r.tN],styles:["ion-content[_ngcontent-%COMP%]{--background: linear-gradient(180deg, #f0f9ff 0%, #e0f2fe 25%, #f8fafc 50%, #ffffff 100%)}.estado-container[_ngcontent-%COMP%]{padding:16px 16px 100px;max-width:600px;margin:0 auto}.info-card[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 4px 16px #00000014;border:2px solid #3b82f6;background:linear-gradient(135deg,#eff6ff,#dbeafe);margin-bottom:20px;animation:_ngcontent-%COMP%_fadeInUp .3s ease-out}.info-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:16px}.clase-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.info-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#3b82f6;flex-shrink:0}.info-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.info-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:11px;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.5px}.info-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:15px;font-weight:700;color:#1e40af}.estados-card[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 4px 16px #00000014;border:2px solid #e2e8f0;margin-bottom:20px;animation:_ngcontent-%COMP%_fadeInUp .4s ease-out}.estados-card[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:18px;color:#1e293b}.estados-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.estado-option[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;gap:16px;padding:16px;background:#fff;border:3px solid;border-radius:16px;cursor:pointer;transition:all .3s ease}.estado-option[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 16px #0000001f}.estado-option.selected[_ngcontent-%COMP%]{box-shadow:0 6px 20px #00000026;transform:scale(1.02)}.estado-icon[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:14px;display:flex;align-items:center;justify-content:center;flex-shrink:0;box-shadow:0 4px 12px #00000026}.estado-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:32px;color:#fff}.estado-info[_ngcontent-%COMP%]{flex:1}.estado-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin:0 0 4px;transition:color .3s ease}.estado-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;color:#64748b;margin:0}.check-icon[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;font-size:28px;animation:_ngcontent-%COMP%_scaleIn .3s ease-out}.detalles-card[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 4px 16px #00000014;border:2px solid #e2e8f0;margin-bottom:20px;animation:_ngcontent-%COMP%_fadeInUp .5s ease-out}.detalles-card[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:16px;color:#1e293b}.textarea-item[_ngcontent-%COMP%]{--background: #f8fafc;--border-radius: 12px;--padding-start: 16px;--padding-end: 16px;border:2px solid #e2e8f0;border-radius:12px;margin-top:8px}.textarea-item.ion-focused[_ngcontent-%COMP%]{--background: white;border-color:#3b82f6;box-shadow:0 0 0 4px #3b82f61a}.textarea-item[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{--padding-top: 12px;--padding-bottom: 12px;font-size:14px;font-weight:500;color:#1e293b}.textarea-item[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]::placeholder{color:#94a3b8;font-weight:400}.save-button-container[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;padding:16px;background:linear-gradient(to top,white 0%,rgba(255,255,255,.95) 90%,transparent 100%);z-index:100}.save-button[_ngcontent-%COMP%]{--border-radius: 12px;height:56px;font-weight:700;text-transform:none;font-size:16px;box-shadow:0 4px 16px #0003;max-width:500px;margin:0 auto}.save-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}.save-button[_ngcontent-%COMP%]:disabled{opacity:.5}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.5)}to{opacity:1;transform:scale(1)}}@media(max-width:768px){.estado-container[_ngcontent-%COMP%]{padding:12px}.estado-icon[_ngcontent-%COMP%]{width:48px;height:48px}.estado-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:28px}.estado-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:15px}}"]})}}return i})();var X=u(8536),H=u(7705),C=u(9758);const N=()=>[1,2,3,4,5,6];function Y(i,s){if(1&i){const t=n.RV6();n.j41(0,"ion-buttons",10)(1,"ion-button",11),n.bIt("click",function(){l.eBV(t);const o=n.XpG();return l.Njj(o.irAReportes())}),n.nrm(2,"ion-icon",12),n.k0s(),n.j41(3,"ion-button",11),n.bIt("click",function(){l.eBV(t);const o=n.XpG();return l.Njj(o.editarAsignatura())}),n.nrm(4,"ion-icon",13),n.k0s(),n.j41(5,"ion-button",11),n.bIt("click",function(){l.eBV(t);const o=n.XpG();return l.Njj(o.eliminarAsignatura())}),n.nrm(6,"ion-icon",14),n.k0s()()}}function S(i,s){1&i&&(n.j41(0,"div",15),n.nrm(1,"ion-spinner",16),n.j41(2,"p"),n.EFF(3,"Cargando informaci\xf3n..."),n.k0s()())}function V(i,s){if(1&i&&(n.j41(0,"div",30)(1,"span",31),n.EFF(2,"Nivel:"),n.k0s(),n.j41(3,"span",32),n.EFF(4),n.k0s()()),2&i){const t=n.XpG(2);n.R7$(4),n.JRh(t.asignatura.nivel)}}function U(i,s){if(1&i&&(n.j41(0,"div",30)(1,"span",31),n.EFF(2,"Aula:"),n.k0s(),n.j41(3,"span",32),n.EFF(4),n.k0s()()),2&i){const t=n.XpG(2);n.R7$(4),n.JRh(t.asignatura.aula)}}function J(i,s){if(1&i&&(n.j41(0,"div",30)(1,"span",31),n.EFF(2,"Facultad:"),n.k0s(),n.j41(3,"span",32),n.EFF(4),n.k0s()()),2&i){const t=n.XpG(2);n.R7$(4),n.JRh(t.asignatura.facultad)}}function B(i,s){if(1&i&&(n.j41(0,"div",30)(1,"span",31),n.EFF(2,"Programa:"),n.k0s(),n.j41(3,"span",32),n.EFF(4),n.k0s()()),2&i){const t=n.XpG(2);n.R7$(4),n.JRh(t.asignatura.programa)}}function L(i,s){if(1&i&&(n.j41(0,"ion-badge"),n.EFF(1),n.k0s()),2&i){const t=n.XpG(2);n.R7$(),n.JRh(t.horarios.length)}}function W(i,s){if(1&i&&(n.j41(0,"ion-badge"),n.EFF(1),n.k0s()),2&i){const t=n.XpG(2);n.R7$(),n.JRh(t.estudiantes.length)}}function K(i,s){1&i&&(n.j41(0,"div",42),n.nrm(1,"ion-spinner",16),n.j41(2,"p"),n.EFF(3,"Cargando horarios..."),n.k0s()())}function Q(i,s){if(1&i){const t=n.RV6();n.j41(0,"div",43),n.nrm(1,"ion-icon",44),n.j41(2,"h3"),n.EFF(3,"No hay horarios registrados"),n.k0s(),n.j41(4,"p"),n.EFF(5,"Configura los horarios de clase para esta asignatura"),n.k0s(),n.j41(6,"ion-button",45),n.bIt("click",function(){l.eBV(t);const o=n.XpG(3);return l.Njj(o.agregarHorario())}),n.nrm(7,"ion-icon",46),n.EFF(8," Configurar Horarios "),n.k0s()()}}function Z(i,s){if(1&i&&(n.j41(0,"div",66),n.nrm(1,"ion-icon",67),n.j41(2,"span"),n.EFF(3),n.k0s()()),2&i){const t=n.XpG().$implicit;n.R7$(3),n.JRh(t.aula)}}function q(i,s){if(1&i){const t=n.RV6();n.j41(0,"ion-card",53)(1,"ion-card-content")(2,"div",54)(3,"div",55),n.nrm(4,"ion-icon",56),n.k0s(),n.j41(5,"div",57)(6,"div",58),n.nrm(7,"ion-icon",35),n.j41(8,"span"),n.EFF(9),n.k0s()(),n.DNE(10,Z,4,1,"div",59),n.j41(11,"div",60),n.nrm(12,"ion-icon",26),n.j41(13,"span"),n.EFF(14),n.k0s()(),n.j41(15,"div",61)(16,"ion-chip",62)(17,"ion-label"),n.EFF(18),n.k0s()()()(),n.j41(19,"div",63)(20,"ion-button",64),n.bIt("click",function(){const o=l.eBV(t).$implicit,a=n.XpG(6);return l.Njj(a.cambiarEstadoHorario(o))}),n.nrm(21,"ion-icon",13),n.k0s(),n.j41(22,"ion-button",65),n.bIt("click",function(){const o=l.eBV(t).$implicit,a=n.XpG(6);return l.Njj(a.eliminarHorario(o))}),n.nrm(23,"ion-icon",14),n.k0s()()()()()}if(2&i){const t=s.$implicit,e=n.XpG(6);n.R7$(3),n.xc7("background",e.getColorEstado(t.estado||"pendiente")),n.R7$(),n.Y8G("name",e.getIconoEstado(t.estado||"pendiente")),n.R7$(5),n.Lme("",e.formatHora(t.hora_inicio)," - ",e.formatHora(t.hora_fin)),n.R7$(),n.Y8G("ngIf",t.aula),n.R7$(4),n.SpI("Desde: ",e.formatFecha(t.fecha_inicio||t.created_at)),n.R7$(2),n.xc7("--background",e.getColorEstado(t.estado||"pendiente")),n.R7$(2),n.JRh(e.getTextoEstado(t.estado||"pendiente")),n.R7$(2),n.xc7("color",e.asignatura.color)}}function nn(i,s){if(1&i&&(n.j41(0,"div")(1,"div",50)(2,"h3"),n.EFF(3),n.k0s(),n.j41(4,"ion-badge",51),n.EFF(5),n.k0s()(),n.DNE(6,q,24,12,"ion-card",52),n.k0s()),2&i){const t=n.XpG().$implicit,e=n.XpG(4);n.R7$(3),n.JRh(e.getDiaNombre(t)),n.R7$(2),n.JRh(e.getHorariosPorDia(t).length),n.R7$(),n.Y8G("ngForOf",e.getHorariosPorDia(t))}}function tn(i,s){if(1&i&&(n.j41(0,"div",49),n.DNE(1,nn,7,3,"div",8),n.k0s()),2&i){const t=s.$implicit,e=n.XpG(4);n.R7$(),n.Y8G("ngIf",e.getHorariosPorDia(t).length>0)}}function en(i,s){1&i&&(n.j41(0,"div",47),n.DNE(1,tn,2,1,"div",48),n.k0s()),2&i&&(n.R7$(),n.Y8G("ngForOf",n.lJ4(1,N)))}function on(i,s){if(1&i&&(n.j41(0,"div",38),n.DNE(1,K,4,0,"div",39)(2,Q,9,0,"div",40)(3,en,2,2,"div",41),n.k0s()),2&i){const t=n.XpG(2);n.R7$(),n.Y8G("ngIf",t.loadingHorarios),n.R7$(),n.Y8G("ngIf",!t.loadingHorarios&&0===t.horarios.length),n.R7$(),n.Y8G("ngIf",!t.loadingHorarios&&t.horarios.length>0)}}function an(i,s){1&i&&(n.j41(0,"div",42),n.nrm(1,"ion-spinner",16),n.j41(2,"p"),n.EFF(3,"Cargando estudiantes..."),n.k0s()())}function rn(i,s){if(1&i){const t=n.RV6();n.j41(0,"div",43),n.nrm(1,"ion-icon",69),n.j41(2,"h3"),n.EFF(3,"No hay estudiantes inscritos"),n.k0s(),n.j41(4,"p"),n.EFF(5,"Agrega estudiantes manualmente o carga un archivo con el listado"),n.k0s(),n.j41(6,"ion-button",45),n.bIt("click",function(){l.eBV(t);const o=n.XpG(3);return l.Njj(o.agregarEstudiantes())}),n.nrm(7,"ion-icon",46),n.EFF(8," Agregar Estudiantes "),n.k0s()()}}function sn(i,s){if(1&i&&(n.j41(0,"p"),n.EFF(1),n.k0s()),2&i){const t=n.XpG().$implicit;n.R7$(),n.JRh(t.email)}}function cn(i,s){if(1&i&&(n.j41(0,"ion-item",75)(1,"div",76),n.EFF(2),n.k0s(),n.j41(3,"ion-avatar",1),n.nrm(4,"img",77),n.k0s(),n.j41(5,"ion-label")(6,"h3"),n.EFF(7),n.k0s(),n.j41(8,"p"),n.EFF(9),n.k0s(),n.DNE(10,sn,2,1,"p",8),n.k0s(),n.j41(11,"ion-button",78),n.nrm(12,"ion-icon",79),n.k0s()()),2&i){const t=s.$implicit,e=s.index,o=n.XpG(4);n.R7$(2),n.JRh(e+1),n.R7$(2),n.Y8G("src",o.getAvatarUrl(t),n.B4B)("alt",t.nombres),n.R7$(3),n.Lme("",t.nombres," ",t.apellidos),n.R7$(2),n.JRh(t.cedula),n.R7$(),n.Y8G("ngIf",t.email)}}function ln(i,s){if(1&i&&(n.j41(0,"div",70)(1,"ion-card",71)(2,"ion-card-header")(3,"div",72)(4,"ion-card-title"),n.EFF(5,"Listado de Estudiantes"),n.k0s(),n.j41(6,"ion-badge",51),n.EFF(7),n.k0s()()(),n.j41(8,"ion-card-content")(9,"ion-list",73),n.DNE(10,cn,13,7,"ion-item",74),n.k0s()()()()),2&i){const t=n.XpG(3);n.R7$(7),n.JRh(t.estudiantes.length),n.R7$(3),n.Y8G("ngForOf",t.estudiantes)}}function dn(i,s){if(1&i&&(n.j41(0,"div",38),n.DNE(1,an,4,0,"div",39)(2,rn,9,0,"div",40)(3,ln,11,2,"div",68),n.k0s()),2&i){const t=n.XpG(2);n.R7$(),n.Y8G("ngIf",t.loadingEstudiantes),n.R7$(),n.Y8G("ngIf",!t.loadingEstudiantes&&0===t.estudiantes.length),n.R7$(),n.Y8G("ngIf",!t.loadingEstudiantes&&t.estudiantes.length>0)}}function gn(i,s){if(1&i){const t=n.RV6();n.j41(0,"div")(1,"div",17)(2,"div",18)(3,"div",19),n.nrm(4,"ion-icon",20),n.k0s(),n.j41(5,"div",21)(6,"h1"),n.EFF(7),n.k0s(),n.j41(8,"div",22)(9,"ion-chip",23),n.nrm(10,"ion-icon",24),n.j41(11,"ion-label"),n.EFF(12),n.k0s()(),n.j41(13,"ion-chip",23),n.nrm(14,"ion-icon",25),n.j41(15,"ion-label"),n.EFF(16),n.k0s()(),n.j41(17,"ion-chip",23),n.nrm(18,"ion-icon",26),n.j41(19,"ion-label"),n.EFF(20),n.k0s()()()()()(),n.j41(21,"ion-card",27)(22,"ion-card-content")(23,"div",28),n.DNE(24,V,5,1,"div",29),n.j41(25,"div",30)(26,"span",31),n.EFF(27,"Cr\xe9ditos:"),n.k0s(),n.j41(28,"span",32),n.EFF(29),n.k0s()(),n.j41(30,"div",30)(31,"span",31),n.EFF(32,"Modalidad:"),n.k0s(),n.j41(33,"span",32),n.EFF(34),n.k0s()(),n.DNE(35,U,5,1,"div",29)(36,J,5,1,"div",29)(37,B,5,1,"div",29),n.k0s()()(),n.j41(38,"ion-segment",33),n.bIt("ionChange",function(o){l.eBV(t);const a=n.XpG();return l.Njj(a.onSegmentChange(o))}),n.j41(39,"ion-segment-button",34)(40,"ion-label"),n.nrm(41,"ion-icon",35),n.j41(42,"div"),n.EFF(43,"Horarios"),n.k0s()(),n.DNE(44,L,2,1,"ion-badge",8),n.k0s(),n.j41(45,"ion-segment-button",36)(46,"ion-label"),n.nrm(47,"ion-icon",25),n.j41(48,"div"),n.EFF(49,"Estudiantes"),n.k0s()(),n.DNE(50,W,2,1,"ion-badge",8),n.k0s()(),n.DNE(51,on,4,3,"div",37)(52,dn,4,3,"div",37),n.k0s()}if(2&i){const t=n.XpG();n.R7$(),n.xc7("background",t.asignatura.color),n.R7$(6),n.JRh(t.asignatura.nombre),n.R7$(5),n.JRh(t.asignatura.codigo),n.R7$(4),n.SpI("Grupo ",t.asignatura.grupo),n.R7$(4),n.JRh(t.asignatura.periodo),n.R7$(4),n.Y8G("ngIf",t.asignatura.nivel),n.R7$(5),n.JRh(t.asignatura.creditos),n.R7$(5),n.JRh(t.asignatura.modalidad),n.R7$(),n.Y8G("ngIf",t.asignatura.aula),n.R7$(),n.Y8G("ngIf",t.asignatura.facultad),n.R7$(),n.Y8G("ngIf",t.asignatura.programa),n.R7$(),n.Y8G("value",t.segmentValue),n.R7$(6),n.Y8G("ngIf",!t.loadingHorarios&&t.horarios.length>0),n.R7$(6),n.Y8G("ngIf",!t.loadingEstudiantes&&t.estudiantes.length>0),n.R7$(),n.Y8G("ngIf","horarios"===t.segmentValue&&t.asignatura),n.R7$(),n.Y8G("ngIf","estudiantes"===t.segmentValue)}}function pn(i,s){if(1&i){const t=n.RV6();n.j41(0,"ion-fab",80)(1,"ion-fab-button",81),n.bIt("click",function(){l.eBV(t);const o=n.XpG();return l.Njj("horarios"===o.segmentValue?o.agregarHorario():o.agregarEstudiantes())}),n.nrm(2,"ion-icon",82),n.k0s()()}if(2&i){const t=n.XpG();n.R7$(),n.xc7("--background",t.asignatura.color)("--background-activated",t.asignatura.color)("--background-focused",t.asignatura.color)("--background-hover",t.asignatura.color)}}let un=(()=>{class i{constructor(t,e,o,a,d,p,m,_n,fn){this.route=t,this.router=e,this.supabase=o,this.loadingController=a,this.alertController=d,this.actionSheetController=p,this.toastController=m,this.modalController=_n,this.cdr=fn,this.asignaturaId="",this.asignatura=null,this.horarios=[],this.estudiantes=[],this.loadingAsignatura=!0,this.loadingHorarios=!0,this.loadingEstudiantes=!0,this.segmentValue="horarios",this.diasSemana=["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"],(0,h.d)({timeOutline:c.CVk,peopleOutline:c.wx_,addOutline:c.EKF,cloudUploadOutline:c.Fb6,personAddOutline:c.zsU,calendarOutline:c.RXF,trashOutline:c.P1A,createOutline:c.hmR,documentTextOutline:c.pXZ,checkmarkCircleOutline:c.gz2,closeCircleOutline:c.p9N,bookOutline:c.AiO,codeOutline:c.abl,locationOutline:c.UN$,ellipsisVerticalOutline:c.k4i,closeOutline:c.xfX,statsChartOutline:c.IEp,ellipseOutline:c.zF})}ngOnInit(){var t=this;return(0,g.A)(function*(){t.asignaturaId=t.route.snapshot.paramMap.get("id")||"",t.asignaturaId?(yield t.loadAsignatura(),setTimeout(()=>t.loadHorarios(),100),setTimeout(()=>t.loadEstudiantes(),200)):t.router.navigate(["/home"])})()}loadAsignatura(){var t=this;return(0,g.A)(function*(){t.loadingAsignatura=!0,t.cdr.detectChanges();try{const{data:e,error:o}=yield t.supabase.from("asignaturas").select("*").eq("id",t.asignaturaId).single();if(o)throw o;if(!e)throw new Error("No se encontr\xf3 la asignatura");t.asignatura=e,t.cdr.detectChanges()}catch(e){console.error("Error cargando asignatura:",e),yield t.showAlert("Error","No se pudo cargar la asignatura"),t.router.navigate(["/home"])}finally{t.loadingAsignatura=!1,t.cdr.detectChanges()}})()}editarAsignatura(){var t=this;return(0,g.A)(function*(){if(!t.asignatura)return void(yield t.showToast("Error: no se pudo cargar la asignatura","danger"));const e={...t.asignatura},o=yield t.modalController.create({component:X.EditarPage,componentProps:{asignatura:e},breakpoints:[0,.95],initialBreakpoint:.95});yield o.present();const{data:a}=yield o.onWillDismiss();a?.updated&&(yield t.loadAsignatura(),t.cdr.detectChanges())})()}eliminarAsignatura(){var t=this;return(0,g.A)(function*(){var o;yield(yield t.alertController.create({header:"Eliminar Asignatura",message:`\xbfEst\xe1s seguro de eliminar "${t.asignatura?.nombre}"? Esta acci\xf3n no se puede deshacer.`,cssClass:"alert-delete",buttons:[{text:"Cancelar",role:"cancel"},{text:"Eliminar",role:"destructive",handler:(o=(0,g.A)(function*(){yield t.confirmarEliminacion()}),function(){return o.apply(this,arguments)})}]})).present()})()}confirmarEliminacion(){var t=this;return(0,g.A)(function*(){const e=yield t.loadingController.create({message:"Eliminando asignatura...",spinner:"crescent"});yield e.present();try{const{error:o}=yield t.supabase.from("asignaturas").update({activa:!1,updated_at:(new Date).toISOString()}).eq("id",t.asignaturaId);if(yield e.dismiss(),o)throw o;yield t.showToast("Asignatura eliminada exitosamente","success"),setTimeout(()=>{t.router.navigate(["/home"])},500)}catch(o){yield e.dismiss(),console.error("Error eliminando asignatura:",o),yield t.showToast("Error al eliminar la asignatura","danger")}})()}loadHorarios(){var t=this;return(0,g.A)(function*(){t.loadingHorarios=!0,t.cdr.detectChanges();try{const{data:e,error:o}=yield t.supabase.from("horarios").select("*").eq("asignatura_id",t.asignaturaId).eq("activo",!0).order("dia_semana",{ascending:!0}).order("hora_inicio",{ascending:!0});if(o)throw o;t.horarios=e||[]}catch(e){console.error("Error cargando horarios:",e),yield t.showToast("Error al cargar horarios","danger")}finally{t.loadingHorarios=!1,t.cdr.detectChanges()}})()}onClaseClick(t){var e=this;return(0,g.A)(function*(){const o=yield e.modalController.create({component:b,componentProps:{horario:t.horario,asignaturaId:e.asignaturaId,estadoActual:t.estado},breakpoints:[0,.75,.95],initialBreakpoint:.95});yield o.present();const{data:a}=yield o.onWillDismiss();a?.saved&&(yield e.loadHorarios(),e.cdr.detectChanges())})()}irAReportes(){this.router.navigate(["/reportes",this.asignaturaId])}loadEstudiantes(){var t=this;return(0,g.A)(function*(){t.loadingEstudiantes=!0,t.cdr.detectChanges();try{const{data:e,error:o}=yield t.supabase.from("estudiantes_asignaturas").select("\n          estudiante_id,\n          estudiantes (\n            id,\n            nombres,\n            apellidos,\n            cedula,\n            email,\n            telefono,\n            foto_url\n          )\n        ").eq("asignatura_id",t.asignaturaId).eq("activo",!0);t.estudiantes=o?[]:e?.map(a=>a.estudiantes).filter(a=>null!==a)||[],t.cdr.detectChanges()}catch(e){console.error("Error en loadEstudiantes:",e),t.estudiantes=[]}finally{t.loadingEstudiantes=!1,t.cdr.detectChanges()}})()}onSegmentChange(t){this.segmentValue=t.detail.value,this.cdr.detectChanges()}agregarHorario(){var t=this;return(0,g.A)(function*(){const e=yield t.modalController.create({component:D,componentProps:{asignaturaId:t.asignaturaId},breakpoints:[0,.95],initialBreakpoint:.95});yield e.present();const{data:o}=yield e.onWillDismiss();o?.created&&(yield t.loadHorarios())})()}agregarEstudiantes(){var t=this;return(0,g.A)(function*(){yield(yield t.actionSheetController.create({header:"\xbfC\xf3mo deseas agregar estudiantes?",buttons:[{text:"Cargar desde archivo",icon:"cloud-upload-outline",handler:()=>{t.cargarDesdeArchivo()}},{text:"Agregar manualmente",icon:"person-add-outline",handler:()=>{t.agregarManual()}},{text:"Cancelar",icon:"close-outline",role:"cancel"}]})).present()})()}cargarDesdeArchivo(){return(0,g.A)(function*(){console.log("Cargar desde archivo")})()}agregarManual(){return(0,g.A)(function*(){console.log("Agregar manual")})()}getHorariosPorDia(t){return this.horarios.filter(e=>e.dia_semana===t)}formatHora(t){if(!t)return"";const[e,o]=t.split(":"),a=parseInt(e);return`${a%12||12}:${o} ${a>=12?"PM":"AM"}`}getInitials(t){return`${t.nombres?.charAt(0)?.toUpperCase()||""}${t.apellidos?.charAt(0)?.toUpperCase()||""}`}getAvatarUrl(t){return t.foto_url?t.foto_url:`https://ui-avatars.com/api/?name=${this.getInitials(t)}&background=3b82f6&color=fff&size=200&bold=true&rounded=true`}showAlert(t,e){var o=this;return(0,g.A)(function*(){yield(yield o.alertController.create({header:t,message:e,buttons:["OK"]})).present()})()}getDiaNombre(t){return this.diasSemana[t]}formatFecha(t){return t?new Date(t).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"}):""}getTextoEstado(t){switch(t){case"realizada":return"Realizada";case"cancelada":return"Cancelada";case"aplazada":return"Aplazada";default:return"Pendiente"}}getIconoEstado(t){switch(t){case"realizada":return"checkmark-circle-outline";case"cancelada":return"close-circle-outline";case"aplazada":return"time-outline";default:return"ellipse-outline"}}getColorEstado(t){switch(t){case"realizada":return"#10b981";case"cancelada":return"#ef4444";case"aplazada":return"#f59e0b";default:return"#94a3b8"}}cambiarEstadoHorario(t){var e=this;return(0,g.A)(function*(){const o=yield e.modalController.create({component:b,componentProps:{horario:t,asignaturaId:e.asignaturaId,estadoActual:t.estado||"pendiente"},breakpoints:[0,.75,.95],initialBreakpoint:.95});yield o.present();const{data:a}=yield o.onWillDismiss();a?.saved&&(yield e.loadHorarios(),e.cdr.detectChanges())})()}eliminarHorario(t){var e=this;return(0,g.A)(function*(){var a;yield(yield e.alertController.create({header:"Eliminar Horario",message:"\xbfEst\xe1s seguro de eliminar este horario? Esta acci\xf3n no se puede deshacer.",buttons:[{text:"Cancelar",role:"cancel"},{text:"Eliminar",role:"destructive",handler:(a=(0,g.A)(function*(){const d=yield e.loadingController.create({message:"Eliminando horario...",spinner:"crescent"});yield d.present();try{const{error:p}=yield e.supabase.from("horarios").update({activo:!1}).eq("id",t.id);if(yield d.dismiss(),p)throw p;yield e.showToast("Horario eliminado correctamente","success"),yield e.loadHorarios(),e.cdr.detectChanges()}catch(p){yield d.dismiss(),console.error("Error eliminando horario:",p),yield e.showToast("Error al eliminar el horario","danger")}}),function(){return a.apply(this,arguments)})}]})).present()})()}showToast(t,e){var o=this;return(0,g.A)(function*(){yield(yield o.toastController.create({message:t,duration:2500,position:"top",color:e})).present()})()}static{this.\u0275fac=function(e){return new(e||i)(n.rXU(C.nX),n.rXU(C.Ix),n.rXU(x.w),n.rXU(r.Xi),n.rXU(r.hG),n.rXU(r.GD),n.rXU(r.K_),n.rXU(r.W3),n.rXU(H.gRc))}}static{this.\u0275cmp=n.VBU({type:i,selectors:[["app-detalle"]],decls:12,vars:9,consts:[[3,"translucent"],["slot","start"],["defaultHref","/home","color","light"],["color","light"],["slot","end",4,"ngIf"],[3,"fullscreen"],[1,"detalle-container"],["class","page-loading",4,"ngIf"],[4,"ngIf"],["slot","fixed","vertical","bottom","horizontal","end",4,"ngIf"],["slot","end"],["color","light",3,"click"],["name","stats-chart-outline"],["name","create-outline"],["name","trash-outline"],[1,"page-loading"],["name","crescent","color","primary"],[1,"asignatura-header"],[1,"header-content"],[1,"asignatura-icon"],["name","book-outline"],[1,"asignatura-info"],[1,"info-chips"],[1,"info-chip"],["name","code-outline"],["name","people-outline"],["name","calendar-outline"],[1,"info-card"],[1,"info-grid"],["class","info-item",4,"ngIf"],[1,"info-item"],[1,"label"],[1,"value"],[1,"main-segment",3,"ionChange","value"],["value","horarios"],["name","time-outline"],["value","estudiantes"],["class","section-content",4,"ngIf"],[1,"section-content"],["class","loading-state",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","horarios-list",4,"ngIf"],[1,"loading-state"],[1,"empty-state"],["name","calendar-outline",1,"empty-icon"],["expand","block",1,"empty-button",3,"click"],["name","add-outline","slot","start"],[1,"horarios-list"],["class","dia-group",4,"ngFor","ngForOf"],[1,"dia-group"],[1,"dia-header"],["color","primary"],["class","horario-card",4,"ngFor","ngForOf"],[1,"horario-card"],[1,"horario-content"],[1,"estado-indicator"],[3,"name"],[1,"horario-info"],[1,"horario-tiempo"],["class","horario-aula",4,"ngIf"],[1,"horario-fecha"],[1,"horario-estado"],[1,"estado-chip"],[1,"horario-actions"],["fill","clear",3,"click"],["fill","clear","color","danger",3,"click"],[1,"horario-aula"],["name","location-outline"],["class","estudiantes-container",4,"ngIf"],["name","people-outline",1,"empty-icon"],[1,"estudiantes-container"],[1,"estudiantes-card"],[1,"estudiantes-header"],[1,"estudiantes-list"],["class","estudiante-item","lines","none",4,"ngFor","ngForOf"],["lines","none",1,"estudiante-item"],[1,"estudiante-number"],[3,"src","alt"],["slot","end","fill","clear","size","small"],["name","ellipsis-vertical-outline"],["slot","fixed","vertical","bottom","horizontal","end"],[3,"click"],["name","add-outline",2,"color","white"]],template:function(e,o){1&e&&(n.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),n.nrm(3,"ion-back-button",2),n.k0s(),n.j41(4,"ion-title",3),n.EFF(5),n.k0s(),n.DNE(6,Y,7,0,"ion-buttons",4),n.k0s()(),n.j41(7,"ion-content",5)(8,"div",6),n.DNE(9,S,4,0,"div",7)(10,gn,53,17,"div",8),n.k0s(),n.DNE(11,pn,3,8,"ion-fab",9),n.k0s()),2&e&&(n.Y8G("translucent",!0),n.R7$(),n.xc7("--background",(null==o.asignatura?null:o.asignatura.color)||"#3b82f6"),n.R7$(4),n.JRh((null==o.asignatura?null:o.asignatura.nombre)||"Cargando..."),n.R7$(),n.Y8G("ngIf",o.asignatura),n.R7$(),n.Y8G("fullscreen",!0),n.R7$(2),n.Y8G("ngIf",o.loadingAsignatura),n.R7$(),n.Y8G("ngIf",!o.loadingAsignatura&&o.asignatura),n.R7$(),n.Y8G("ngIf",o.asignatura))},dependencies:[_.MD,_.Sq,_.bT,r.W9,r.eU,r.ai,r.BC,r.QW,r.el,r.Jm,r.iq,r.b_,r.ME,r.tN,r.I9,r.ZB,r.he,r.Gp,r.eP,r.Q8,r.YW,r.In,r.nf,r.uz,r.mC,r.w2],styles:['ion-content[_ngcontent-%COMP%]{--background: linear-gradient(180deg, #f0f9ff 0%, #e0f2fe 25%, #f8fafc 50%, #ffffff 100%)}.detalle-container[_ngcontent-%COMP%]{padding-bottom:80px}.page-loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;gap:20px;padding:40px}.page-loading[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{width:56px;height:56px}.page-loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#64748b;font-weight:500;margin:0}.asignatura-header[_ngcontent-%COMP%]{padding:30px 20px 40px;background:linear-gradient(135deg,var(--background) 0%,var(--background) 100%);position:relative;animation:_ngcontent-%COMP%_fadeInDown .6s ease-out}.asignatura-header[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;right:0;height:30px;background:linear-gradient(180deg,transparent 0%,#f8fafc 100%)}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;position:relative;z-index:1}.asignatura-icon[_ngcontent-%COMP%]{width:70px;height:70px;background:#ffffff4d;border-radius:18px;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:2px solid rgba(255,255,255,.4);flex-shrink:0}.asignatura-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:36px;color:#fff}.asignatura-info[_ngcontent-%COMP%]{flex:1;min-width:0}.asignatura-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;font-weight:800;color:#fff;margin:0 0 12px;text-shadow:0 2px 8px rgba(0,0,0,.2);line-height:1.2}.info-chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.info-chip[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .25);--color: white;height:32px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.3)}.info-chip[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff;font-size:16px}.info-chip[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:600;font-size:13px}.info-card[_ngcontent-%COMP%]{margin:-20px 20px 20px;border-radius:16px;box-shadow:0 4px 20px #00000014;border:1px solid rgba(226,232,240,.8);animation:_ngcontent-%COMP%_fadeInUp .6s ease-out .2s both}.info-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:20px}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:16px}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.info-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;color:#64748b;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.info-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:15px;color:#1e293b;font-weight:600}.main-segment[_ngcontent-%COMP%]{margin:20px;background:#fff;border-radius:14px;padding:6px;box-shadow:0 2px 12px #0000000f;border:1px solid rgba(226,232,240,.8);animation:_ngcontent-%COMP%_fadeIn .6s ease-out .3s both}.main-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{--indicator-color: #3b82f6;--indicator-color-checked: #3b82f6;--color: #64748b;--color-checked: white;--background-checked: #3b82f6;min-height:50px;text-transform:none;font-weight:600;border-radius:10px;position:relative}.main-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:22px;margin-bottom:4px}.main-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:13px;font-weight:600}.main-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{position:absolute;top:6px;right:6px;font-size:11px;min-width:20px;height:20px;font-weight:700}.section-content[_ngcontent-%COMP%]{padding:0 20px 20px;animation:_ngcontent-%COMP%_fadeIn .6s ease-out}.loading-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px}.loading-state[_ngcontent-%COMP%]   .loading-icon[_ngcontent-%COMP%]{font-size:64px;color:#cbd5e1;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;color:#64748b;margin:16px 0 0;font-weight:500}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 40px;background:#fff;border-radius:20px;box-shadow:0 4px 20px #0000000f;border:1px solid rgba(226,232,240,.8);animation:_ngcontent-%COMP%_fadeIn .6s ease-out}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:72px;color:#cbd5e1;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#1e293b;margin:0 0 10px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;color:#64748b;margin:0 0 30px;line-height:1.6}.empty-state[_ngcontent-%COMP%]   .empty-button[_ngcontent-%COMP%]{--border-radius: 12px;max-width:280px;margin:0 auto;height:50px;font-weight:600;text-transform:none;box-shadow:0 4px 16px #3b82f64d}.empty-state[_ngcontent-%COMP%]   .empty-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:22px}.horarios-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .6s ease-out}.horarios-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:16px;margin-top:10px}.dia-column[_ngcontent-%COMP%]{background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 2px 12px #0000000f;border:1px solid rgba(226,232,240,.8)}.dia-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb);padding:12px;text-align:center}.dia-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:#fff;margin:0;letter-spacing:.3px}.horarios-list[_ngcontent-%COMP%]{padding:12px;min-height:100px}.horario-card[_ngcontent-%COMP%]{background:#f8fafc;padding:12px;border-radius:10px;margin-bottom:10px;border-left:3px solid #3b82f6;transition:all .3s ease}.horario-card[_ngcontent-%COMP%]:hover{background:#eff6ff;transform:translate(4px)}.horario-time[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:8px}.horario-time[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:#3b82f6;flex-shrink:0}.horario-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:#1e293b}.horario-aula[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.horario-aula[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px;color:#64748b;flex-shrink:0}.horario-aula[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;color:#64748b;font-weight:500}.no-horario[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:80px;color:#94a3b8;font-size:13px;font-style:italic}.estudiantes-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .6s ease-out}.estudiantes-card[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 4px 20px #00000014;border:1px solid rgba(226,232,240,.8)}.estudiantes-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:0}.estudiantes-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.estudiantes-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#1e293b}.estudiantes-header[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{font-size:14px;font-weight:700;padding:6px 12px}.estudiantes-list[_ngcontent-%COMP%]{padding:0;background:transparent}.estudiante-item[_ngcontent-%COMP%]{--background: transparent;--padding-start: 16px;--padding-end: 16px;--inner-padding-end: 0;margin-bottom:12px;padding:12px 16px;background:#f8fafc;border-radius:12px;transition:all .3s ease;position:relative}.estudiante-item[_ngcontent-%COMP%]:hover{background:#eff6ff;transform:translate(4px)}.estudiante-item[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{width:48px;height:48px;border:2px solid #3b82f6}.estudiante-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-left:12px}.estudiante-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:#1e293b;margin-bottom:4px}.estudiante-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;color:#64748b;margin:2px 0}.estudiante-number[_ngcontent-%COMP%]{position:absolute;left:0;top:50%;transform:translateY(-50%);width:28px;height:28px;background:linear-gradient(135deg,#3b82f6,#2563eb);border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;color:#fff;box-shadow:0 2px 8px #3b82f64d}ion-fab[_ngcontent-%COMP%]{margin-bottom:16px;margin-right:16px}ion-fab[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]{--box-shadow: 0 4px 16px rgba(0, 0, 0, .2);width:60px;height:60px}ion-fab[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:28px}ion-fab[slot=fixed][_ngcontent-%COMP%]{z-index:1000}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}@media(max-width:768px){.asignatura-header[_ngcontent-%COMP%]{padding:20px 16px 30px}.header-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.asignatura-icon[_ngcontent-%COMP%]{width:60px;height:60px}.asignatura-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:30px}.asignatura-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}.info-card[_ngcontent-%COMP%]{margin:-20px 16px 16px}.info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.main-segment[_ngcontent-%COMP%]{margin:16px}.section-content[_ngcontent-%COMP%]{padding:0 16px 16px}.horarios-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.estudiante-item[_ngcontent-%COMP%]{padding-left:48px}}.horarios-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;padding-bottom:20px}.dia-group[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .4s ease-out}.dia-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:linear-gradient(135deg,#3b82f6,#2563eb);border-radius:12px;margin-bottom:12px;box-shadow:0 2px 8px #3b82f64d}.dia-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#fff;margin:0}.dia-header[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{--background: white;--color: #3b82f6;font-weight:700;font-size:13px}.horario-card[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 2px 12px #00000014;border:2px solid #e2e8f0;margin-bottom:12px;transition:all .3s ease}.horario-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 16px #0000001f}.horario-card[_ngcontent-%COMP%]:last-child{margin-bottom:0}.horario-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:16px}.horario-content[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:flex-start}.estado-indicator[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0;box-shadow:0 2px 8px #00000026}.estado-indicator[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:28px;color:#fff}.horario-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:8px}.horario-tiempo[_ngcontent-%COMP%], .horario-aula[_ngcontent-%COMP%], .horario-fecha[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;color:#475569}.horario-tiempo[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .horario-aula[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .horario-fecha[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:#64748b}.horario-tiempo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .horario-aula[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .horario-fecha[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600}.horario-tiempo[_ngcontent-%COMP%]{font-size:15px;color:#1e293b}.horario-tiempo[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#3b82f6}.horario-tiempo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.horario-fecha[_ngcontent-%COMP%]{font-size:12px;color:#64748b}.horario-fecha[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.horario-estado[_ngcontent-%COMP%]{margin-top:4px}.estado-chip[_ngcontent-%COMP%]{height:28px;font-weight:700;color:#fff}.estado-chip[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:11px;text-transform:uppercase;letter-spacing:.5px}.horario-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.horario-actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;margin:0;height:36px;width:36px}.horario-actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}@media(max-width:768px){.horario-content[_ngcontent-%COMP%]{flex-direction:column}.horario-actions[_ngcontent-%COMP%]{flex-direction:row;justify-content:flex-end}.estado-indicator[_ngcontent-%COMP%]{width:40px;height:40px}.estado-indicator[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}}']})}}return i})()}}]);